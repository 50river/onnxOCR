<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°åŒ…æ‹¬ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼</title>
    <link rel="stylesheet" href="../styles/main.css">
    <style>
        body {
            padding: 2rem;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 2rem;
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .test-section {
            background: white;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-section h3 {
            margin: 0 0 1rem 0;
            color: #1f2937;
            font-size: 1.1rem;
        }
        
        .test-button {
            width: 100%;
            background: #2563eb;
            color: white;
            border: none;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            transition: background-color 0.2s;
        }
        
        .test-button:hover {
            background: #1d4ed8;
        }
        
        .test-button:disabled {
            background: #9ca3af;
            cursor: not-allowed;
        }
        
        .test-button.success {
            background: #059669;
        }
        
        .test-button.error {
            background: #dc2626;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: #2563eb;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .results-container {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-top: 2rem;
        }
        
        .results-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .results-content {
            padding: 1.5rem;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .test-result {
            display: flex;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #f3f4f6;
        }
        
        .test-result:last-child {
            border-bottom: none;
        }
        
        .test-status {
            font-size: 1.2rem;
            margin-right: 0.75rem;
            min-width: 24px;
        }
        
        .test-name {
            font-weight: 500;
            color: #1f2937;
            flex: 1;
        }
        
        .test-details {
            font-size: 0.875rem;
            color: #6b7280;
            margin-left: 2rem;
        }
        
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .stat-card {
            text-align: center;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 0.375rem;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
        }
        
        .stat-label {
            font-size: 0.875rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
        
        .console-output {
            background: #1f2937;
            color: #f9fafb;
            padding: 1rem;
            border-radius: 0.375rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 1rem;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="test-header">
        <h1>ğŸ§ª ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°åŒ…æ‹¬ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼</h1>
        <p>é ˜åæ›¸OCRã‚¢ãƒ—ãƒªã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™</p>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div id="progress-text">ãƒ†ã‚¹ãƒˆæº–å‚™å®Œäº†</div>
    </div>

    <div class="test-controls">
        <div class="test-section">
            <h3>ğŸš€ ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ</h3>
            <button class="test-button" id="run-all-tests" onclick="runAllTests()">
                å…¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
            </button>
            <button class="test-button" onclick="runQuickTest()">
                ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ
            </button>
        </div>

        <div class="test-section">
            <h3>ğŸ” å€‹åˆ¥ãƒ†ã‚¹ãƒˆ</h3>
            <button class="test-button" onclick="runSpecificTest('classification')">
                ã‚¨ãƒ©ãƒ¼åˆ†é¡ãƒ†ã‚¹ãƒˆ
            </button>
            <button class="test-button" onclick="runSpecificTest('permission')">
                æ¨©é™ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
            </button>
            <button class="test-button" onclick="runSpecificTest('resource')">
                ãƒªã‚½ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
            </button>
        </div>

        <div class="test-section">
            <h3>ğŸ”„ æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h3>
            <button class="test-button" onclick="runSpecificTest('fallback')">
                ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½
            </button>
            <button class="test-button" onclick="runSpecificTest('recovery')">
                å¾©æ—§æˆ¦ç•¥ãƒ†ã‚¹ãƒˆ
            </button>
            <button class="test-button" onclick="runSpecificTest('usability')">
                ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
            </button>
        </div>

        <div class="test-section">
            <h3>ğŸ–¥ï¸ UIãƒ»çµ±åˆãƒ†ã‚¹ãƒˆ</h3>
            <button class="test-button" onclick="runSpecificTest('display')">
                ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºãƒ†ã‚¹ãƒˆ
            </button>
            <button class="test-button" onclick="runSpecificTest('monitoring')">
                ãƒªã‚½ãƒ¼ã‚¹ç›£è¦–ãƒ†ã‚¹ãƒˆ
            </button>
            <button class="test-button" onclick="runSpecificTest('integration')">
                çµ±åˆãƒ†ã‚¹ãƒˆ
            </button>
        </div>

        <div class="test-section">
            <h3>ğŸ› ï¸ ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£</h3>
            <button class="test-button" onclick="clearTestResults()">
                çµæœã‚’ã‚¯ãƒªã‚¢
            </button>
            <button class="test-button" onclick="exportTestResults()">
                çµæœã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
            </button>
            <button class="test-button" onclick="showSystemInfo()">
                ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
            </button>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š çµ±è¨ˆæƒ…å ±</h3>
            <button class="test-button" onclick="showRecoveryStats()">
                å¾©æ—§çµ±è¨ˆ
            </button>
            <button class="test-button" onclick="showErrorLogs()">
                ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
            </button>
            <button class="test-button" onclick="clearAllData()">
                å…¨ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢
            </button>
        </div>
    </div>

    <div class="results-container" id="results-container">
        <div class="results-header">
            <h2>ğŸ“‹ ãƒ†ã‚¹ãƒˆçµæœ</h2>
            <button class="test-button" onclick="toggleConsole()" style="width: auto; padding: 0.5rem 1rem;">
                ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤ºåˆ‡æ›¿
            </button>
        </div>
        
        <div class="results-content">
            <div class="summary-stats" id="summary-stats">
                <div class="stat-card">
                    <div class="stat-value" id="total-tests">0</div>
                    <div class="stat-label">ç·ãƒ†ã‚¹ãƒˆæ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="passed-tests">0</div>
                    <div class="stat-label">æˆåŠŸ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="failed-tests">0</div>
                    <div class="stat-label">å¤±æ•—</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="success-rate">0%</div>
                    <div class="stat-label">æˆåŠŸç‡</div>
                </div>
            </div>
            
            <div id="test-results-list"></div>
            
            <div class="console-output hidden" id="console-output"></div>
        </div>
    </div>

    <!-- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
    <script src="../js/error-recovery.js"></script>
    <script src="../js/error-handler.js"></script>
    <script src="../js/error-display.js"></script>
    <script src="../js/resource-monitor.js"></script>
    <script src="error-handling-tests.js"></script>

    <script>
        // ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã®çŠ¶æ…‹ç®¡ç†
        let currentTests = null;
        let isRunning = false;
        let consoleMessages = [];

        // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚­ãƒ£ãƒ—ãƒãƒ£
        const originalConsoleLog = console.log;
        const originalConsoleError = console.error;
        const originalConsoleWarn = console.warn;

        console.log = function(...args) {
            originalConsoleLog.apply(console, args);
            consoleMessages.push({ type: 'log', message: args.join(' '), timestamp: new Date().toISOString() });
            updateConsoleOutput();
        };

        console.error = function(...args) {
            originalConsoleError.apply(console, args);
            consoleMessages.push({ type: 'error', message: args.join(' '), timestamp: new Date().toISOString() });
            updateConsoleOutput();
        };

        console.warn = function(...args) {
            originalConsoleWarn.apply(console, args);
            consoleMessages.push({ type: 'warn', message: args.join(' '), timestamp: new Date().toISOString() });
            updateConsoleOutput();
        };

        // å…¨ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
        async function runAllTests() {
            if (isRunning) return;
            
            isRunning = true;
            updateProgress(0, 'ãƒ†ã‚¹ãƒˆã‚’åˆæœŸåŒ–ä¸­...');
            disableButtons(true);
            
            try {
                currentTests = new ErrorHandlingTests();
                
                updateProgress(10, 'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆæœŸåŒ–ä¸­...');
                await new Promise(resolve => setTimeout(resolve, 500));
                
                updateProgress(20, 'ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­...');
                const results = await currentTests.runAllTests();
                
                updateProgress(100, `ãƒ†ã‚¹ãƒˆå®Œäº†: ${results.passedTests}/${results.totalTests} æˆåŠŸ`);
                updateTestResults(currentTests.testResults, results);
                
            } catch (error) {
                console.error('ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼:', error);
                updateProgress(0, `ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`);
            } finally {
                isRunning = false;
                disableButtons(false);
            }
        }

        // ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
        async function runQuickTest() {
            if (isRunning) return;
            
            isRunning = true;
            updateProgress(0, 'ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­...');
            disableButtons(true);
            
            try {
                currentTests = new ErrorHandlingTests();
                
                // ä¸»è¦ãªãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
                await currentTests.testErrorClassification();
                await currentTests.testPermissionErrors();
                await currentTests.testFallbackFunctionality();
                
                const results = currentTests.displayTestResults();
                updateProgress(100, `ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Œäº†: ${results.passedTests}/${results.totalTests} æˆåŠŸ`);
                updateTestResults(currentTests.testResults, results);
                
            } catch (error) {
                console.error('ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼:', error);
                updateProgress(0, `ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`);
            } finally {
                isRunning = false;
                disableButtons(false);
            }
        }

        // ç‰¹å®šãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
        async function runSpecificTest(testType) {
            if (isRunning) return;
            
            isRunning = true;
            updateProgress(0, `${testType} ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œä¸­...`);
            disableButtons(true);
            
            try {
                currentTests = new ErrorHandlingTests();
                await currentTests.runSpecificTest(testType);
                
                const results = currentTests.displayTestResults();
                updateProgress(100, `${testType} ãƒ†ã‚¹ãƒˆå®Œäº†: ${results.passedTests}/${results.totalTests} æˆåŠŸ`);
                updateTestResults(currentTests.testResults, results);
                
            } catch (error) {
                console.error(`${testType} ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¨ãƒ©ãƒ¼:`, error);
                updateProgress(0, `ãƒ†ã‚¹ãƒˆå¤±æ•—: ${error.message}`);
            } finally {
                isRunning = false;
                disableButtons(false);
            }
        }

        // é€²è¡ŒçŠ¶æ³ã®æ›´æ–°
        function updateProgress(percentage, message) {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            
            progressFill.style.width = `${percentage}%`;
            progressText.textContent = message;
        }

        // ãƒœã‚¿ãƒ³ã®æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ
        function disableButtons(disabled) {
            const buttons = document.querySelectorAll('.test-button');
            buttons.forEach(button => {
                button.disabled = disabled;
            });
        }

        // ãƒ†ã‚¹ãƒˆçµæœã®æ›´æ–°
        function updateTestResults(testResults, summary) {
            // çµ±è¨ˆã®æ›´æ–°
            document.getElementById('total-tests').textContent = summary.totalTests;
            document.getElementById('passed-tests').textContent = summary.passedTests;
            document.getElementById('failed-tests').textContent = summary.failedTests;
            document.getElementById('success-rate').textContent = summary.successRate + '%';
            
            // çµæœãƒªã‚¹ãƒˆã®æ›´æ–°
            const resultsList = document.getElementById('test-results-list');
            resultsList.innerHTML = '';
            
            testResults.forEach(result => {
                const resultElement = document.createElement('div');
                resultElement.className = 'test-result';
                
                const status = result.passed ? 'âœ…' : 'âŒ';
                
                resultElement.innerHTML = `
                    <div class="test-status">${status}</div>
                    <div>
                        <div class="test-name">${result.name}</div>
                        <div class="test-details">${result.details}</div>
                    </div>
                `;
                
                resultsList.appendChild(resultElement);
            });
        }

        // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã®æ›´æ–°
        function updateConsoleOutput() {
            const consoleOutput = document.getElementById('console-output');
            const recentMessages = consoleMessages.slice(-50); // æœ€æ–°50ä»¶ã®ã¿è¡¨ç¤º
            
            consoleOutput.innerHTML = recentMessages.map(msg => {
                const time = new Date(msg.timestamp).toLocaleTimeString();
                const typeColor = {
                    'log': '#f9fafb',
                    'error': '#fca5a5',
                    'warn': '#fcd34d'
                }[msg.type] || '#f9fafb';
                
                return `<div style="color: ${typeColor};">[${time}] ${msg.message}</div>`;
            }).join('');
            
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }

        // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«è¡¨ç¤ºã®åˆ‡ã‚Šæ›¿ãˆ
        function toggleConsole() {
            const consoleOutput = document.getElementById('console-output');
            consoleOutput.classList.toggle('hidden');
        }

        // ãƒ†ã‚¹ãƒˆçµæœã®ã‚¯ãƒªã‚¢
        function clearTestResults() {
            document.getElementById('test-results-list').innerHTML = '';
            document.getElementById('total-tests').textContent = '0';
            document.getElementById('passed-tests').textContent = '0';
            document.getElementById('failed-tests').textContent = '0';
            document.getElementById('success-rate').textContent = '0%';
            consoleMessages = [];
            updateConsoleOutput();
            updateProgress(0, 'ãƒ†ã‚¹ãƒˆæº–å‚™å®Œäº†');
        }

        // ãƒ†ã‚¹ãƒˆçµæœã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
        function exportTestResults() {
            if (!currentTests || !currentTests.testResults) {
                alert('ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã™ã‚‹ãƒ†ã‚¹ãƒˆçµæœãŒã‚ã‚Šã¾ã›ã‚“');
                return;
            }
            
            const data = {
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                testResults: currentTests.testResults,
                consoleMessages: consoleMessages
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `error-handling-test-results-${new Date().toISOString().slice(0, 19).replace(/:/g, '-')}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            URL.revokeObjectURL(url);
        }

        // ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã®è¡¨ç¤º
        function showSystemInfo() {
            const resourceMonitor = new ResourceMonitor();
            const info = resourceMonitor.getResourceInfo();
            
            const systemInfo = {
                userAgent: navigator.userAgent,
                language: navigator.language,
                platform: navigator.platform,
                cookieEnabled: navigator.cookieEnabled,
                onLine: navigator.onLine,
                resourceInfo: info,
                localStorage: {
                    available: typeof Storage !== 'undefined',
                    errorLogs: localStorage.getItem('errorLogs') ? JSON.parse(localStorage.getItem('errorLogs')).length : 0
                }
            };
            
            alert(`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±:\n${JSON.stringify(systemInfo, null, 2)}`);
        }

        // å¾©æ—§çµ±è¨ˆã®è¡¨ç¤º
        function showRecoveryStats() {
            const errorRecovery = new ErrorRecovery();
            const report = errorRecovery.generateRecoveryReport();
            
            const popup = window.open('', '_blank', 'width=600,height=400');
            popup.document.write(`
                <html>
                    <head><title>å¾©æ—§çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆ</title></head>
                    <body style="font-family: monospace; padding: 20px; white-space: pre-wrap;">
                        ${report}
                    </body>
                </html>
            `);
        }

        // ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®è¡¨ç¤º
        function showErrorLogs() {
            const errorHandler = new ErrorHandler();
            const logs = errorHandler.getErrorLogs();
            
            const popup = window.open('', '_blank', 'width=800,height=600');
            popup.document.write(`
                <html>
                    <head><title>ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°</title></head>
                    <body style="font-family: monospace; padding: 20px;">
                        <h2>ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° (${logs.length}ä»¶)</h2>
                        <pre>${JSON.stringify(logs, null, 2)}</pre>
                    </body>
                </html>
            `);
        }

        // å…¨ãƒ‡ãƒ¼ã‚¿ã®ã‚¯ãƒªã‚¢
        function clearAllData() {
            if (confirm('ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚°ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã™ã‹ï¼Ÿ')) {
                const errorHandler = new ErrorHandler();
                const errorRecovery = new ErrorRecovery();
                
                errorHandler.clearErrorLogs();
                errorRecovery.clearRecoveryHistory();
                localStorage.removeItem('errorHandlingTestResults');
                
                clearTestResults();
                alert('ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ã—ã¾ã—ãŸ');
            }
        }

        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ğŸ§ª ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ãŒåˆæœŸåŒ–ã•ã‚Œã¾ã—ãŸ');
            console.log('ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ä¸Šéƒ¨ã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„');
            
            // å‰å›ã®ãƒ†ã‚¹ãƒˆçµæœãŒã‚ã‚Œã°å¾©å…ƒ
            try {
                const savedResults = localStorage.getItem('errorHandlingTestResults');
                if (savedResults) {
                    const data = JSON.parse(savedResults);
                    updateTestResults(data.results, data.summary);
                    console.log('å‰å›ã®ãƒ†ã‚¹ãƒˆçµæœã‚’å¾©å…ƒã—ã¾ã—ãŸ');
                }
            } catch (error) {
                console.warn('å‰å›ã®ãƒ†ã‚¹ãƒˆçµæœã®å¾©å…ƒã«å¤±æ•—:', error);
            }
        });
    </script>
</body>
</html>